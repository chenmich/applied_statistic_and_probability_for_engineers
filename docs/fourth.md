# 4、连续随机变量极其概率分布

气体动力学理论在统计和物理之间建立起了桥梁。物理学家James Maxwell设定某些假设，从而确定了气体在平衡时的分子速度的分布。分子碰撞的结果后回弹的方向是空间任意方向，这表明了等概率的概念。从这个概念出发，他假设分子碰撞后，在$x$、$y$和$z$三个方向速度是等概率的并且它们之间相互独立变化。只这一项就显示了在特定方向$x$的速度的概率分布是著名的正态连续概率分布。当然，这一基础分布还可以从其它角度探讨后(比如本章要讨论的中心极限定理)导出，但从分子运动动力学的角度讨论是最简单的。正态分布的角色例示了连续概念分布的在科学和工程领域的重要性。

!!!note "学习目标"
    经过认真学习本章内容，可以做到：
    
    1. 从概率密度函数确定概率。

    2. 从累积分布函数和确定概率以及从概率密度函数确定累积分布函数。

    3. 计算连续随机变量的平均值和方差。

    4. 理解某些常见连续随机变量分布的假设。

    5. 为特定选择适当的连续概率分布计算其概率。

    6. 计算某些常见概率分布的平均值和方差。

    7. 标准化正态随机变量。

    8. 使用标准正态分布的累积分布表计算概率。

    9. 对某些二项式分布和泊松分布计算近似概率。

## 4.1、连续随机变量

假定在混凝土拌和站针对每天同一品种混凝土测定其立方抗压强度。在实际生产中总会有小的波动影响混凝土强度，这些波动可能来源于温度的变动、试件制作的差异、生产计量的微小变动、操作者的差异、材料的波动等等等等原因，因此，即使是同一批材料、同一配合比以及同一搅拌机生产的混凝土，其立方抗压强度都会有少的变动，并不会完全一样。所以所测得的混凝土立方抗压强度表达的是一个随机变量$X$，并且用一个实数区间作为该随机变量的可能取值范围是合理的。还记得我们在[第2章](second.md)中讨论过，具有一个(无论是有限还是无限)实数区间的随机变量就是**连续随机变量**。这个模型可用于任意精度的随机变量。

因为随机变量$X$的可能值是不可数的无限多，所以$X$明显与前面所研究的离散随机变量不同。但是与离散随机变量一样的是，许多物理系统都可以使用相同或类似的连续随机变量建模。本章要会介绍这些随机变量，并提供计算概率的实例。

## 4.2、概率分布和概率密度函数

我们在力学研究领域常常用密度函数描述力的分布，也用密度描述许多其它的物理系统。比如在图4.1中，在细长梁的任意位置，其力的密度可以用密度来描述。间隔区间越大，则所受的荷载也越大。在两点$a$和$b$之间的荷载总量由区间$[a,b]$之间的积分确定。这个积分是密度函数曲线下部的面积。我们可以粗略地认为是这个区间内的荷载总值。

!!!note "图4.1、概率密度函数与力的密度函数"
    ![fig4.1](images/fig4.1.png)

类似地，**概率密度函数**$f(x)$可以用来描述**连续随机变量**$X$的分布。如果区间包含$X$的某个值越大，那么相应地它的$f(x$)$也会越大。$X$的概率就是曲线在$(a,b)$上的积分，也就是概率密度函数下的面积。

由此我们可以得到函数密度函数的定义：

!!!note "概率密度函数"
    对于连续随机变量$X$，它的概率**密度函数**应该满足：

    $$
    \begin{align}
    (1)&\space f(x)\geq 0 \nonumber\\
    (2)&\space \int_{-\infty}^{\infty}f(x)dx=1\nonumber\\
    (3)&\space 对于任意的a和b \qquad P(a\leq X\leq b)=\int_a^bf(x)dx=f(x)下从a到b的面积\qquad 
    \end{align}
    $$

概率密度函数为随机变量提供了简单的描述。只要$f(x)$为非负函数、$\int_{-\infty}^{\infty}f(x)dx=1$以及$P(a\leq X\leq b)\leq 1$，则满足概率的定义。在如果$x$处的事件不会发生，则概率密度函数为零；如果没有特别规定某个值的概率密度函数，也假定它为零。

可以用**柱状图**近似概率密度函数，如图4.2所示。对于每一个柱状图所对应的区间，柱的面积等于此区间测量值的相对频率(比例)。相对频率是该区间事件发生概率的近似估计。类似地，在$f(x)$下任意区间的面积等于在该区间事件发生的真实概率。

!!!note "图4.2、概率密度函数的近似柱状图"
    ![fig4.2](images/fig4.2.png)

最重要的一点就是$f(x)$**用于计算面积**，而这个面积表达了$X$落在$[a,b]$之间的概率。以测试混凝土立方面抗压强度为例，$X$在$[36\text{MPa}, 42\text{MPa}]$之间的概率就是$X$的概率密度函数在这个区间的积分。对于混凝土立方抗压强度来说，这是一个相对很小的区间。通过适当地选择$f(x)$的形状，我们可以表达任意随机变量的概率。$f(x)$的形状决定了$X$在$[36\text{MPa}, 42\text{MPa}]$的概率与其它相等长度区间或不同长度区间的概率的差异程度。

对于细长梁上的荷载，因为每一点都是零宽度，所以在任何点上的荷载都是零。类似地，对于连续随机变量$X$和任意值$x$来说，我们也有：

$$
P(X=x)=0
$$

从这一点来看，似乎连续随机变量的模型是无用的模型。但是，在现实世界中，当观察特定的混凝土立方抗压强度测量值时，比如，41.5MPa，这个值可以解释为是$[41.53, 41.54]$MPa经过圆整后的结果。因此，可以认为测量值41.5就是$X$落在$[41.53, 41.54]$MPa的一个值，而它在这个区间的概率并非为零。类似地，因为每一个点都是零概率的，在计算连续随机变量概率时，就不必区分$\leq$和$<$：

!!!note ""
    如果$X$是**连续随机变量**，对于任意值$x_2$和$x_2$，有：

    $$
    \begin{equation}
    P(X_1\leq X\leq x_2)=P(x_1<X\leq x_2)=P(x_1\leq X<x_2)=P(x_1<X<x_2)\qquad
    \end{equation}
    $$

## 5.3、累积分布函数

与离散随机变量类似，我们也可以用累积分布函数来描述连续随机变量的分布。

!!!note "累积分布函数"
    连续随机变量$X$的**累积分布函数**为：

    $$
    \begin{align}
    F(x)=P(X\leq x)=\int_{-\infty}^{x}f(u)du \qquad
    \text{其中} -\infty<x<\infty\qquad
    \end{align}
    $$

我们知道，$P(X\leq x)=1-P(x\geq x)$。所以我们可以用累积分布密度函数来定义混凝土立方抗压强度的强度等级。比如，C35强度等级即混凝土的立方抗压强度$X$的概率$P(x\geq 35)=95%$。假期立方抗压强度的概率密度函数为$f(x)$，则强度等级为C35的混凝土立方抗压强度的概率应该为：

$$
P(X\geq 35)=1-P(35\leq X)=1-\int_{-\infty}^{35}f(u)du＝1－0.05＝0.95
$$

只要我们知道了混凝土的概率密度函数，可以轻易地计算出它的累积分布，从而也能清晰地定义混凝土的立方抗压强度的强度等级。混凝土的概率密度函数是正态分布。正态分布也是许多许多物理系统和过程的概率分布，它是如此重要，以致我们必须在本章接下来的内容要重点研究这个分布。

## 4.4、连续随机变量的平均值和方差

与离散随机变量一样，我们也可以定义它的平均值和方差，只是要用积分取代求和。考虑到积分的本质也是求和，所以平均值和方差的定义的本质是相同的。同样地，如果像图4.1那样把概率密度函数视为荷载密度，则概率密度对应了细长梁上荷载的平衡点。

!!!note "平均值和方差"
    假定$X$是连续随机变量，其概率密度函数为$f(x)$，它的**平均值**或**期望值**用$\mu$或$E(X)$表示，它们应该是：

    $$
    \begin{equation}
    \mu=E(X)=\int_{-\infty}^{\infty}xf(x)dx \qquad
    \end{equation}
    $$

    它的方差为$V(X)$或$\sigma^2$，它应该是：

    $$
    \sigma^2=V(X)=\int_{-\infty}^{\infty}(x-\mu)^2f(x)dx=\int_{-\infty}^{\infty}x^2f(x)dx-\mu^2
    $$

    $X$的**标准差**为$\sigma=\sqrt{\sigma^2}$

!!!note "连续随机变量函数的期望值"
    如果连续随机变量的概率密度函数为$f(x)$，那么：

    $$
    \begin{equation}
    E[h(X)]=\int_{-\infty}^{\infty}h(x)f(x)dx\qquad
    \end{equation}
    $$

## 4.5、常见的连续随机变量分布

与离散随机变量分布一样，人们也对各种各样的连续随机变量分布做了详细研究，我们在这里介绍几个最常用的分布。

### 4.5.1、均匀分布

连续随机变量也有均匀分布。它的概率密度函数在整个分布区间内是一个常数。

!!!note "连续均匀分布"
    如果$X$为密度函数应为：

    $$
    \begin{equation}
    f(x)=1/(b-a)\qquad a\leq x\leq b\qquad
    \end{equation}
    $$

    则$X$就是**连续均匀分布随机变量**

按照连续随机变量的平均值和方差定义，利用积分原理可以确定连续均匀分布的平均值和方差。

!!!note "平均值和方差"
    如果$X$是在区间$[a, b]$上的连续均匀分布随机变量，那么它的平均值为和方差为：

    $$
    \begin{equation}
    \mu=E(X)=\frac{a+b}{2}\qquad\text{和}\qquad\sigma^2=V(X)=\frac{(b-a)^2}{12}\qquad
    \end{equation}
    $$

根据累积分布函数的定义，可以得到在$[a, b]$上的均匀分布连续随机变量$X$，在$x$处的累积分布函数为：

$$
F(x)=\begin{cases}
0&\qquad x<a \\
(x-a)/(b-a)&\qquad a\leq x<b\\
1&\qquad b\leq x
\end{cases}
$$

### 4.5.2、正态分布

